const TabPersosRecherche = [
    { prenom: "Gon", nom: "Freecss", image: "../../Ressources/Personnages/gon.webp", citation: "Si vous mentez, ce sera facile pour moi. Je n'aurai aucune piti√© √† vous montrer. Je peux te vaincre sans h√©sitation." },
    { prenom: "Kirua", nom: "Zoldik", image: "../../Ressources/Personnages/kirua.webp", citation: "Quand je dis que √ßa ne me fait pas mal, √ßa veut dire que je peux le supporter." },
    { prenom: "Kurapika", nom: "", image: "../../Ressources/Personnages/kurapika.jpg", citation: "Il y a deux choses que les collectionneurs veulent toujours. Le premier est tout √©l√©ment d'extr√™me raret√©. Le second, ce sont des coll√®gues aupr√®s desquels ils peuvent se vanter de leur collection." },
    { prenom: "Leolio", nom: "Paradinaito", image: "../../Ressources/Personnages/leolio.webp", citation: "Pour le juste prix, vous pouvez acheter non seulement des tr√©sors, mais des r√™ves, des c≈ìurs et m√™me la vie des gens !" },
    // Examen Hunter
    { prenom: "Hisoka", nom: "Morow", image: "../../Ressources/Personnages/hisoka.jpg", citation: "L'amour et la haine sont les deux faces d'une m√™me m√©daille." },
    { prenom: "Irumi", nom: "Zoldik", image: "../../Ressources/Personnages/irumi.jpg", citation: "Dans les rares cas o√π quelqu'un survit, il devient invalide." },
    // Famille Zoldik
    { prenom: "Silva", nom: "Zoldik", image: "../../Ressources/Personnages/silva.jpg", citation: "En tant que p√®re, tu es plus pr√©cieux pour moi que la promesse que je t'ai faite." },
    { prenom: "Zeno", nom: "Zoldik", image: "../../Ressources/Personnages/zeno.jpg", citation: "J‚Äôaurais pu t‚Äô√©craser seul √ßa ne fait aucun doute. Sauf que si tu t‚Äô√©tais donn√© la peine de te battre s√©rieusement dans ce cas tu aurais certainement pu me vaincre. Mais... tu n‚Äôes qu‚Äôun sale petit garnement." },
    { prenom: "Karuto", nom: "Zoldik", image: "../../Ressources/Personnages/karuto.webp", citation: "Je dois corriger cela ... Cette mauvaise habitude de torturer ma proie." },
    { prenom: "Aruka", nom: "Zoldik", image: "../../Ressources/Personnages/aruka.jpg", citation: "Penses-tu que je ne devrais pas √™tre ici ? La famille serait-elle mieux sans moi ? Est-ce que vous vous entendriez tous mieux ?" },
    // York Shin City
    { prenom: "Nobunaga", nom: "Hazama", image: "../../Ressources/Personnages/nobunaga.webp", citation: "Uvo... n'est pas stupide. M√™me s'il est surpass√©, il peut se d√©brouiller lui-m√™me." },
    { prenom: "Feitan", nom: "Portor", image: "../../Ressources/Personnages/feitan.jpg", citation: "Une famille ? Qu'est-ce que c'est ?" },
    { prenom: "Machi", nom: "Komachine", image: "../../Ressources/Personnages/machi.jpg", citation: "L'obscurit√© ne cachera pas toute cette soif de sang. D'ailleurs, vous devriez viser le nerf, bien que je vous bloque de toute fa√ßon." },
    { prenom: "Phinks", nom: "Magkav", image: "../../Ressources/Personnages/phinks.jpg", citation: "Dites o√π ils sont, Pakunoda. Nous tuerons les deux br√®ches et nous irons tuer la cha√Æne mec." },
    { prenom: "Sharnalk", nom: "Ryusei", image: "../../Ressources/Personnages/sharnalk.jpg", citation: "C'est pourquoi je d√©teste ce mode, m√™me s'il est si puissant. La r√©action est mauvaise et je ne me souviens plus de quoi que ce soit. Je ne ressens jamais un sentiment d'accomplissement." },
    { prenom: "Franklin", nom: "Bordeaux", image: "../../Ressources/Personnages/franklin.jpg", citation: "Le pire cas est que nous mourons tous. La fin des araign√©es." },
    { prenom: "Shizuku", nom: "Murasaki", image: "../../Ressources/Personnages/shizuku.webp", citation: "Rejeter les r√®gles, c'est rejeter l'araign√©e elle-m√™me et par cons√©quent, rejeter le leader. Et je ne veux pas faire √ßa." },
    { prenom: "Pakunoda", nom: "", image: "../../Ressources/Personnages/pakunoda.webp", citation: "Kuroro, nous avons toujours besoin de vous... m√™me si cela signifie trahir les araign√©es." },
    { prenom: "Uvoguine", nom: "", image: "../../Ressources/Personnages/uvoguine.jpeg", citation: "Au d√©but, je voulais simplement essayer pour voir. Mais il y a une diff√©rence entre avoir envie d'essayer un truc par curiosit√© et vraiment vouloir faire ce truc." },
    // Greed Island
    { prenom: "Biscuit", nom: "Kruger", image: "../../Ressources/Personnages/biscuit.png", citation: "Il y a des menteurs qui ne mentent que lorsqu'il y a une raison de le faire, et il y a des menteurs qui mentent aussi sans raison." },
    { prenom: "Genthru", nom: "", image: "../../Ressources/Personnages/genthru.jpg", citation: "Je pr√©f√©rerais ne pas faire √ßa. Je t'ai vu en action et tu as du talent et du potentiel. Votre fiert√© vaut-elle vraiment la peine de jeter tout √ßa ?" },
    { prenom: "Rasor", nom: "", image: "../../Ressources/Personnages/rasor.webp", citation: "Ce n'est pas seulement √©viter et attraper. Pas que cela soit utile." },
    // Kimera Ants
    { prenom: "Kaito", nom: "", image: "../../Ressources/Personnages/kaito.jpg", citation: "Tous les bons Hunters s'entendent bien avec les animaux." },
    { prenom: "Neferupito", nom: "", image: "../../Ressources/Personnages/neferupito.jpg", citation: "Vous avez respect√© mes souhaits et m'attendiez. Je pense donc que je devrais au moins √™tre honn√™te avec toi. Cet homme est d√©j√† mort. Il est mort quand je l'ai combattu. Oui. Maintenant je me souviens de lui." },
    { prenom: "Montutyupi", nom: "", image: "../../Ressources/Personnages/montutyupi.jpg", citation: "La meilleure fa√ßon de servir le Roi est de contr√¥ler cette fureur sans √™tre consum√© par l'√©motion. Cela conduira directement √† l'√©limination de ces parasites." },
    { prenom: "Shauapufu", nom: "", image: "../../Ressources/Personnages/shauapufu.jpg", citation: "Ils sont tous ici pour vous. Ils vous appartiennent tous. Vous r√©gnerez sur ces masses ignorantes et vous vous en placerez au sommet de la cha√Æne alimentaire. Le monde entier brillera sous votre lumi√®re glorieuse. C'est votre destin divin." },
    { prenom: "Komugi", nom: "", image: "../../Ressources/Personnages/komugi.jpg", citation: "Ai-je le droit d'√™tre aussi heureuse ? Est-ce que tant de choses merveilleuses peuvent arriver √† quelqu'un comme moi ?" },
    { prenom: "Meleoron", nom: "", image: "../../Ressources/Personnages/meleoron.jpg", citation: "Le Roi a tu√© quelqu'un qui voulait beaucoup dire pour moi. Il s'appelait Peggy. Sa t√™te a √©t√© souffl√©e devant mes yeux. Mais je... Je n'avais m√™me pas r√©alis√© que quelqu'un de mon entourage √©tait mort." },
    { prenom: "Djido", nom: "", image: "../../Ressources/Personnages/djido.jpg", citation: "H√©, regarde ici. Atteignez-moi et touchez-moi, j'ose √ßa. L√®pre-toi. Ooh, regarde √† quel point je suis proche." },
    { prenom: "Morau", nom: "McCarnathy", image: "../../Ressources/Personnages/morau.jpg", citation: "Toujours se battre comme si vous √©tiez confiant √† 100%, vous gagnerez." },
    { prenom: "Nov", nom: "", image: "../../Ressources/Personnages/nov.jpg", citation: "Les gens ont tendance √† sur√©valuer les choses qu'ils ne comprennent pas." },
    { prenom: "Knuckle", nom: "Bine", image: "../../Ressources/Personnages/knuckle.jpg", citation: "Je ne peux plus le voir comme quelque chose √† exterminer." },
    { prenom: "Shoot", nom: "MacMahon", image: "../../Ressources/Personnages/shoot.jpg", citation: "Je n'aime pas blesser les gens... mais... vous m'avez montr√© deux fois qu'il y a des moments o√π vous devez vous battre, par respect." },
    { prenom: "Pamu", nom: "Shiberia", image: "../../Ressources/Personnages/pamu.jpg", citation: "Nous sommes cruels. Nous devons l'√™tre. Nous ne sommes pas diff√©rents des fourmis. En fait, nous pouvons √™tre bien pires." },
    // Elections
    { prenom: "Ging", nom: "Freecss", image: "../../Ressources/Personnages/ging.jpg", citation: "Des excuses sont une promesse de faire les choses diff√©remment la prochaine fois et de tenir la promesse." },
    { prenom: "Pariston", nom: "Hill", image: "../../Ressources/Personnages/pariston.jpg", citation: "Si votre association devient ennuyeuse... la prochaine fois, je tirerai votre jambe pour de vrai." }
];

const TabPersosCitation = [
    { prenom: "Gon", nom: "Freecss", image: "../../Ressources/Personnages/gon.webp", citation: "Si vous mentez, ce sera facile pour moi. Je n'aurai aucune piti√© √† vous montrer. Je peux te vaincre sans h√©sitation." },
    { prenom: "Kirua", nom: "Zoldik", image: "../../Ressources/Personnages/kirua.webp", citation: "Quand je dis que √ßa ne me fait pas mal, √ßa veut dire que je peux le supporter." },
    { prenom: "Kurapika", nom: "", image: "../../Ressources/Personnages/kurapika.jpg", citation: "Il y a deux choses que les collectionneurs veulent toujours. Le premier est tout √©l√©ment d'extr√™me raret√©. Le second, ce sont des coll√®gues aupr√®s desquels ils peuvent se vanter de leur collection." },
    { prenom: "Leolio", nom: "Paradinaito", image: "../../Ressources/Personnages/leolio.webp", citation: "Pour le juste prix, vous pouvez acheter non seulement des tr√©sors, mais des r√™ves, des c≈ìurs et m√™me la vie des gens !" },
    // Examen Hunter
    { prenom: "Hisoka", nom: "Morow", image: "../../Ressources/Personnages/hisoka.jpg", citation: "L'amour et la haine sont les deux faces d'une m√™me m√©daille." },
    { prenom: "Irumi", nom: "Zoldik", image: "../../Ressources/Personnages/irumi.jpg", citation: "Dans les rares cas o√π quelqu'un survit, il devient invalide." },
    // Famille Zoldik
    { prenom: "Silva", nom: "Zoldik", image: "../../Ressources/Personnages/silva.jpg", citation: "En tant que p√®re, tu es plus pr√©cieux pour moi que la promesse que je t'ai faite." },
    { prenom: "Zeno", nom: "Zoldik", image: "../../Ressources/Personnages/zeno.jpg", citation: "J‚Äôaurais pu t‚Äô√©craser seul √ßa ne fait aucun doute. Sauf que si tu t‚Äô√©tais donn√© la peine de te battre s√©rieusement dans ce cas tu aurais certainement pu me vaincre. Mais... tu n‚Äôes qu‚Äôun sale petit garnement." },
    { prenom: "Karuto", nom: "Zoldik", image: "../../Ressources/Personnages/karuto.webp", citation: "Je dois corriger cela ... Cette mauvaise habitude de torturer ma proie." },
    { prenom: "Aruka", nom: "Zoldik", image: "../../Ressources/Personnages/aruka.jpg", citation: "Penses-tu que je ne devrais pas √™tre ici ? La famille serait-elle mieux sans moi ? Est-ce que vous vous entendriez tous mieux ?" },
    // York Shin City
    { prenom: "Nobunaga", nom: "Hazama", image: "../../Ressources/Personnages/nobunaga.webp", citation: "Uvo... n'est pas stupide. M√™me s'il est surpass√©, il peut se d√©brouiller lui-m√™me." },
    { prenom: "Feitan", nom: "Portor", image: "../../Ressources/Personnages/feitan.jpg", citation: "Une famille ? Qu'est-ce que c'est ?" },
    { prenom: "Machi", nom: "Komachine", image: "../../Ressources/Personnages/machi.jpg", citation: "L'obscurit√© ne cachera pas toute cette soif de sang. D'ailleurs, vous devriez viser le nerf, bien que je vous bloque de toute fa√ßon." },
    { prenom: "Phinks", nom: "Magkav", image: "../../Ressources/Personnages/phinks.jpg", citation: "Dites o√π ils sont, Pakunoda. Nous tuerons les deux br√®ches et nous irons tuer la cha√Æne mec." },
    { prenom: "Sharnalk", nom: "Ryusei", image: "../../Ressources/Personnages/sharnalk.jpg", citation: "C'est pourquoi je d√©teste ce mode, m√™me s'il est si puissant. La r√©action est mauvaise et je ne me souviens plus de quoi que ce soit. Je ne ressens jamais un sentiment d'accomplissement." },
    { prenom: "Franklin", nom: "Bordeaux", image: "../../Ressources/Personnages/franklin.jpg", citation: "Le pire cas est que nous mourons tous. La fin des araign√©es." },
    { prenom: "Shizuku", nom: "Murasaki", image: "../../Ressources/Personnages/shizuku.webp", citation: "Rejeter les r√®gles, c'est rejeter l'araign√©e elle-m√™me et par cons√©quent, rejeter le leader. Et je ne veux pas faire √ßa." },
    { prenom: "Pakunoda", nom: "", image: "../../Ressources/Personnages/pakunoda.webp", citation: "Kuroro, nous avons toujours besoin de vous... m√™me si cela signifie trahir les araign√©es." },
    { prenom: "Uvoguine", nom: "", image: "../../Ressources/Personnages/uvoguine.jpeg", citation: "Au d√©but, je voulais simplement essayer pour voir. Mais il y a une diff√©rence entre avoir envie d'essayer un truc par curiosit√© et vraiment vouloir faire ce truc." },
    // Greed Island
    { prenom: "Biscuit", nom: "Kruger", image: "../../Ressources/Personnages/biscuit.png", citation: "Il y a des menteurs qui ne mentent que lorsqu'il y a une raison de le faire, et il y a des menteurs qui mentent aussi sans raison." },
    { prenom: "Genthru", nom: "", image: "../../Ressources/Personnages/genthru.jpg", citation: "Je pr√©f√©rerais ne pas faire √ßa. Je t'ai vu en action et tu as du talent et du potentiel. Votre fiert√© vaut-elle vraiment la peine de jeter tout √ßa ?" },
    { prenom: "Rasor", nom: "", image: "../../Ressources/Personnages/rasor.webp", citation: "Ce n'est pas seulement √©viter et attraper. Pas que cela soit utile." },
    // Kimera Ants
    { prenom: "Kaito", nom: "", image: "../../Ressources/Personnages/kaito.jpg", citation: "Tous les bons Hunters s'entendent bien avec les animaux." },
    { prenom: "Neferupito", nom: "", image: "../../Ressources/Personnages/neferupito.jpg", citation: "Vous avez respect√© mes souhaits et m'attendiez. Je pense donc que je devrais au moins √™tre honn√™te avec toi. Cet homme est d√©j√† mort. Il est mort quand je l'ai combattu. Oui. Maintenant je me souviens de lui." },
    { prenom: "Montutyupi", nom: "", image: "../../Ressources/Personnages/montutyupi.jpg", citation: "La meilleure fa√ßon de servir le Roi est de contr√¥ler cette fureur sans √™tre consum√© par l'√©motion. Cela conduira directement √† l'√©limination de ces parasites." },
    { prenom: "Shauapufu", nom: "", image: "../../Ressources/Personnages/shauapufu.jpg", citation: "Ils sont tous ici pour vous. Ils vous appartiennent tous. Vous r√©gnerez sur ces masses ignorantes et vous vous en placerez au sommet de la cha√Æne alimentaire. Le monde entier brillera sous votre lumi√®re glorieuse. C'est votre destin divin." },
    { prenom: "Komugi", nom: "", image: "../../Ressources/Personnages/komugi.jpg", citation: "Ai-je le droit d'√™tre aussi heureuse ? Est-ce que tant de choses merveilleuses peuvent arriver √† quelqu'un comme moi ?" },
    { prenom: "Meleoron", nom: "", image: "../../Ressources/Personnages/meleoron.jpg", citation: "Le Roi a tu√© quelqu'un qui voulait beaucoup dire pour moi. Il s'appelait Peggy. Sa t√™te a √©t√© souffl√©e devant mes yeux. Mais je... Je n'avais m√™me pas r√©alis√© que quelqu'un de mon entourage √©tait mort." },
    { prenom: "Djido", nom: "", image: "../../Ressources/Personnages/djido.jpg", citation: "H√©, regarde ici. Atteignez-moi et touchez-moi, j'ose √ßa. L√®pre-toi. Ooh, regarde √† quel point je suis proche." },
    { prenom: "Morau", nom: "McCarnathy", image: "../../Ressources/Personnages/morau.jpg", citation: "Toujours se battre comme si vous √©tiez confiant √† 100%, vous gagnerez." },
    { prenom: "Nov", nom: "", image: "../../Ressources/Personnages/nov.jpg", citation: "Les gens ont tendance √† sur√©valuer les choses qu'ils ne comprennent pas." },
    { prenom: "Knuckle", nom: "Bine", image: "../../Ressources/Personnages/knuckle.jpg", citation: "Je ne peux plus le voir comme quelque chose √† exterminer." },
    { prenom: "Shoot", nom: "MacMahon", image: "../../Ressources/Personnages/shoot.jpg", citation: "Je n'aime pas blesser les gens... mais... vous m'avez montr√© deux fois qu'il y a des moments o√π vous devez vous battre, par respect." },
    { prenom: "Pamu", nom: "Shiberia", image: "../../Ressources/Personnages/pamu.jpg", citation: "Nous sommes cruels. Nous devons l'√™tre. Nous ne sommes pas diff√©rents des fourmis. En fait, nous pouvons √™tre bien pires." },
    // Elections
    { prenom: "Ging", nom: "Freecss", image: "../../Ressources/Personnages/ging.jpg", citation: "Des excuses sont une promesse de faire les choses diff√©remment la prochaine fois et de tenir la promesse." },
    { prenom: "Pariston", nom: "Hill", image: "../../Ressources/Personnages/pariston.jpg", citation: "Si votre association devient ennuyeuse... la prochaine fois, je tirerai votre jambe pour de vrai." }
];


const inputSearch = document.querySelector('.input-recherche');
const suggestionSearch = document.querySelector(".suggestion-recherche");
const comparaison = document.querySelector(".comparaison");
const persoADeviner = TabPersosCitation[Math.floor(Math.random() * TabPersosCitation.length)];

let persoPropose = null;

// Affichage du citation 
const t2Element = document.querySelector('.consigne-t2');
if (t2Element) {
    t2Element.textContent = `" ${persoADeviner.citation} "`;
}


function afficherSuggestion(PersonnagesFiltre) {
  suggestionSearch.innerHTML = ""; // R√©initialiser les suggestions
  
  PersonnagesFiltre.forEach((perso) => {
    // Cr√©ation de l'√©l√©ment
    const item = document.createElement("button");
    item.classList.add("suggestion-item");
    item.innerHTML = `<img class="suggestion-item-img" src="${perso.image}">
                      <span>${perso.prenom}</span>
                      <span>&nbsp;${perso.nom}</span>`;
  
    // Ajout dans le DOM
    suggestionSearch.appendChild(item);
  
    // Suppression dans suggestion-recherche + TabPersosRecherche
    item.addEventListener("click", () => {
      // Trouver le personnage correspondant
      persoPropose = TabPersosCitation.find(p => p.prenom === perso.prenom);
      
      if (persoPropose) {
        // Supprimer le personnage de TabPersosRecherche
        const index = TabPersosRecherche.findIndex(p => p.prenom === perso.prenom);
        if (index !== -1) {
            TabPersosRecherche.splice(index, 1);
        }
        item.remove();
      }
    }) 
  })
}
  
inputSearch.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
        const premierItem = document.querySelector(".suggestion-item");
        if (premierItem) {
            premierItem.click();
        }
    }
})
  
inputSearch.addEventListener("input", () => {
    const requete = inputSearch.value.toLowerCase().trim();
  
    if (requete === "") {
        afficherSuggestion([]); // Cacher les suggestions si recherche vide
        return;
    }
  
    const filtre = TabPersosRecherche.filter((perso) => {
        const prenom = perso.prenom.toLowerCase();
        const nom = perso.nom.toLowerCase();
        return prenom.startsWith(requete) || nom.startsWith(requete);
    });
  
    suggestionSearch.style.display = filtre.length > 0 ? "block" : "none";
    afficherSuggestion(filtre);
});
  
function afficherComparaison(persoPropose, persoADeviner) {

    let couleur = persoPropose.prenom === persoADeviner.prenom ? "green" : "red";

    let tableauHTML = `
        <div class="comparaison-item" style="background-color: ${couleur}; box-shadow: 0 1px 15px ${couleur}, inset 0 0 10px rgba(255, 255, 255, 0.47)">
            <img class="comparaison-img" src="${persoPropose.image}"> 
            <span class="comparaison-text" >${persoPropose.prenom} ${persoPropose.nom}</span>
        </div>`;
  
    comparaison.innerHTML = tableauHTML + comparaison.innerHTML;
}
  
function Victoire() {
    inputSearch.disabled = true; // D√©sactiver l'input pour bloquer le jeu
  
    // Cr√©er un message de victoire
    const conteneur = document.createElement('div');
    conteneur.classList.add('conteneur3');
    const messageVictoire = document.createElement('div');
    messageVictoire.classList.add('victoire');
  
    // Ajouter le texte principal
    const textePrincipal = document.createElement('p');
    textePrincipal.textContent = "Il est trop chaud ! üéâ";
    textePrincipal.classList.add('victoire-t1');
  
    // Ajouter le message secondaire (t2)
    const messageRejouer = document.createElement('p');
    messageRejouer.textContent = "Pour rejouer, il suffit juste d'actualiser la page.";
    messageRejouer.classList.add('victoire-t2');
  
    messageVictoire.appendChild(textePrincipal);
    messageVictoire.appendChild(messageRejouer);
    conteneur.appendChild(messageVictoire);

    // Ajouter la div compl√®te au body
    document.querySelector('body').appendChild(conteneur);
}
// Gestionnaire d'√©v√©nements sur le conteneur parent
suggestionSearch.addEventListener("click", (e) => {
    // V√©rifie si l'√©l√©ment cliqu√© est un √©l√©ment .suggestion-item ou contenu dans un tel √©l√©ment
    const item = e.target.closest(".suggestion-item");
    if (!item) return; // Si ce n'est pas un √©l√©ment .suggestion-item, on ignore l'√©v√©nement
    
    // R√©cup√®re le pr√©nom et le nom depuis l'√©l√©ment cliqu√©
    const prenom = item.querySelector("span:nth-child(2)").textContent.trim().toLowerCase();
    // Trouve le personnage correspondant
    persoPropose = TabPersosCitation.find(perso => perso.prenom.toLowerCase() === prenom);
    if (persoPropose) {
        suggestionSearch.style.display = "none";
        afficherComparaison(persoPropose, persoADeviner);
        inputSearch.value = "";
        inputSearch.focus();
        if (persoPropose.prenom === persoADeviner.prenom) {
            document.querySelector('.comparaison-item').style.animation = "none";
            setTimeout(() => {
                Victoire(); // Appel de la fonction apr√®s le d√©lai
            }, 50); // D√©lai
        }
    }
})
    